<div class="container mat-elevation-z8">
	<table mat-table [dataSource]="equipment" multiTemplateDataRows>
		<ng-container matColumnDef="{{column.name}}"
			*ngFor="let column of columns">
		<th mat-header-cell *matHeaderCellDef class="header">{{column.display}}</th>
		<td mat-cell *matCellDef="let element" class="column">
			{{element[column.name]}}</td>
		</ng-container>

		<!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
		<ng-container matColumnDef="expandedDetail">
		<td mat-cell *matCellDef="let equipment"
			[attr.colspan]="displayedColumns.length">
			<div class="element-detail"
				[@detailExpand]="equipment == expandedElement ? 'expanded' : 'collapsed'">

        <button mat-raised-button class="btn" (click)="showScheduledServices(equipment.id,equipment.name)" color="primary">Scheduled Services</button>
        <button mat-raised-button class="btn" (click)="showUnplannedServices(equipment.id,equipment.name)" color="primary">Unplanned Services</button>

				<button authorizationDirective mat-raised-button class="btn" (click)="updateEquipment(equipment.id)" color="accent">Update</button>
        <button authorizationDirective mat-raised-button class="btn" (click)="deleteEquipment(equipment.id)" color="warn">Delete</button>
			</div>
		</td>
		</ng-container>

		<tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
		<tr mat-row *matRowDef="let element; columns: displayedColumns;"
			class="element-row"
			[class.example-expanded-row]="expandedElement === element"
			(click)="expandedElement = expandedElement === element ? null : element">
		</tr>

		<tr mat-row *matRowDef="let row; columns: ['expandedDetail']"
			class="detail-row"></tr>
	</table>
  <h4 class="disclaimer">Units are measured in milimeters</h4>
</div>
